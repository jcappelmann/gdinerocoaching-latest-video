<!DOCTYPE html>
<html>
<head>
  <title>Latest G_Dinero Coaching Video</title>
  <meta property="og:title" content="Latest G_Dinero Coaching Video" />
  <meta property="og:description" content="Auto-updating latest video from @gdinerocoaching" />
  <meta property="og:type" content="video.other" />
  <meta property="og:site_name" content="G_Dinero Coaching" />
  <meta property="og:image" content="https://img.youtube.com/vi/dQw4w9WgXcQ/0.jpg" /> <!-- Replace with your thumbnail URL -->
  <meta property="og:url" content="https://jcappelmann.github.io/gdinerocoaching-latest-video/" />
</head>
<body>
  <div id="video-player">Loading latest video...</div>
  <script>
    fetch('https://raw.githubusercontent.com/jcappelmann/gdinerocoaching-latest-video/main/latest-video-id.txt')
      .then(response => {
        if (!response.ok) throw new Error('HTTP error ' + response.status);
        return response.text();
      })
      .then(videoId => {
        const trimmedId = videoId.trim();
        console.log('Fetched ID:', trimmedId); // Debug in console
        if (trimmedId && trimmedId.length === 11) {
          document.getElementById('video-player').innerHTML = 
            `<iframe width="100%" height="315" src="https://www.youtube.com/embed/${trimmedId}" 
                     frameborder="0" allowfullscreen></iframe>`;
        } else {
          document.getElementById('video-player').innerHTML = 'Invalid video ID: ' + trimmedId;
        }
      })
      .catch(error => {
        console.error('Fetch error:', error); // Debug in console
        document.getElementById('video-player').innerHTML = 'Error: Failed to load video ID - ' + error.message + 
          ' (Falling back to default)';
        // Fallback to a default video (e.g., Rick Roll) if fetch fails
        document.getElementById('video-player').innerHTML = 
          `<iframe width="100%" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                   frameborder="0" allowfullscreen></iframe>`;
      });
  </script>
</body>
</html>
